{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Policy",
  "type": "object",
  "required": ["name"],
  "properties": {
    "name": {"type": "string"},
    "version": {"type": "string", "default": "1.0"},
    "input_source": {"type": "string"},
    "language": {"type": "string", "default": "en"},
    "min_language_score": {"type": "number", "default": 0.65},
    "quality": {
      "type": "object",
      "properties": {
        "min_words": {"type": "integer", "default": 50},
        "max_words": {"type": "integer", "default": 100000},
        "enabled_rules": {"type": "array", "items": {"type": "string"}}
      }
    },
    "dedup": {
      "type": "object",
      "properties": {
        "method": {"enum": ["exact", "minhash", "semantic"]},
        "scope": {"enum": ["global", "per_dump"]}
      }
    },
    "decontam": {
      "type": "object",
      "properties": {
        "enabled": {"type": "boolean"},
        "mode": {"enum": ["drop", "redact", "downweight", "tag"]}
      }
    },
    "slice_weights": {"type": "object"},
    "max_tokens": {"type": "integer"},
    "seed": {"type": "integer", "default": 42}
  }
}
